{"version":3,"sources":["webpack:///./resources/js sync \\.vue$/","webpack:///./resources/js/components/MyMapsComponent.vue?53dd","webpack:///./resources/js/components/MyMapsComponent.vue?8a43","webpack:///resources/js/components/MyMapsComponent.vue","webpack:///./resources/js/components/MyMapsComponent.vue","webpack:///./resources/js/bootstrap.js","webpack:///./resources/js/components/Rss.vue?8653","webpack:///./resources/js/components/Rss.vue?0b15","webpack:///resources/js/components/Rss.vue","webpack:///./resources/js/components/Rss.vue","webpack:///./resources/js/components/ExampleComponent.vue?b66a","webpack:///./resources/js/components/ExampleComponent.vue?19a4","webpack:///resources/js/components/ExampleComponent.vue","webpack:///./resources/js/components/ExampleComponent.vue","webpack:///./resources/js/components/MapComponent.vue?f79d","webpack:///./resources/js/components/MapComponent.vue?cfcd","webpack:///./resources/js/components/MapComponent.vue?b0a9","webpack:///./resources/js/app.js","webpack:///./resources/js/components/MapComponent.vue?e883","webpack:///resources/js/components/MapComponent.vue","webpack:///./resources/js/components/MapComponent.vue?5f42","webpack:///./resources/js/components/MapComponent.vue","webpack:///./resources/js/components/MapDetailsComponent.vue?d497","webpack:///./resources/js/components/MapDetailsComponent.vue?b3bf","webpack:///resources/js/components/MapDetailsComponent.vue","webpack:///./resources/js/components/MapDetailsComponent.vue"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","component","_vm","this","_h","$createElement","_c","_self","_v","_l","key","staticClass","staticStyle","attrs","uuid","_s","title","description","incidents_count","created_at","private_maps","length","_e","window","_","require","Popper","$","jQuery","axios","defaults","headers","common","token","document","head","querySelector","content","console","error","Pusher","Echo","broadcaster","process","cluster","encrypted","link","date","source","_m","i","push","options","transform","undefined","locals","timeago","Vue","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","files","split","pop","el","args","ref","zoom","center","on","addMarker","url","attribution","submit_data","category_name","$event","preventDefault","submitForm","categories","handleSelectInput","addTag","scopedSlots","_u","fn","option","name","props","icon","model","value","callback","$$v","fullCategory","expression","loading","incident","location","coordinates","category","openPopup","updated_at","checkForLocalStorageKey","deleteIncident","new_message","canEdit","domProps","privacy","users_can_create_incidents"],"mappings":"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","file":"/js/app.js","sourcesContent":["var map = {\n\t\"./components/ExampleComponent.vue\": \"AEaB\",\n\t\"./components/MapComponent.vue\": \"rlHA\",\n\t\"./components/MapDetailsComponent.vue\": \"tq84\",\n\t\"./components/MyMapsComponent.vue\": \"4lAs\",\n\t\"./components/Rss.vue\": \"9oGP\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"+fAT\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Your maps\")]),_vm._v(\" \"),_c('p',[_vm._v(\"These are the maps that you've created on the site.\")]),_vm._v(\" \"),_vm._l((_vm.private_maps),function(map){return _c('div',{key:map.id,staticClass:\"card bg-dark text-white mb-3\"},[_c('map-component',{staticStyle:{\"height\":\"250px\"},attrs:{\"map_id\":map.uuid}}),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(map.title ? map.title : \"Untitled map\"))]),_vm._v(\" \"),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(map.description))]),_vm._v(\" \"),_c('p',{staticClass:\"card-text small\"},[_vm._v(_vm._s(map.incidents_count)+\" reports · Created \"),_c('span',{staticClass:\"timestamp\",attrs:{\"datetime\":map.created_at}},[_vm._v(_vm._s(map.created_at))])]),_vm._v(\" \"),_c('a',{staticClass:\"btn btn-primary\",attrs:{\"href\":/maps/+map.uuid}},[_vm._v(\"See map\")])])],1)}),_vm._v(\" \"),(_vm.private_maps.length < 1)?_c('div',[_vm._v(\"You have no maps yet\")]):_vm._e(),_vm._v(\" \"),_c('hr',{staticClass:\"my-4\"}),_vm._v(\" \"),_c('h2',{staticClass:\"mt-5\"},[_vm._v(\"Public maps\")]),_vm._v(\" \"),_c('p',[_vm._v(\"These maps are made by the community, and public.\")]),_vm._v(\" \"),_vm._l((_vm.public_maps),function(map){return _c('div',{key:map.id,staticClass:\"card bg-dark text-white mb-3\"},[_c('map-component',{staticStyle:{\"height\":\"250px\"},attrs:{\"map_id\":map.uuid}}),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(map.title ? map.title : \"Untitled map\"))]),_vm._v(\" \"),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(map.description))]),_vm._v(\" \"),_c('p',{staticClass:\"card-text small\"},[_vm._v(_vm._s(map.incidents_count)+\" reports\")]),_vm._v(\" \"),_c('a',{staticClass:\"btn btn-primary\",attrs:{\"href\":/maps/+map.uuid}},[_vm._v(\"See map\")])])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyMapsComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyMapsComponent.vue?vue&type=script&lang=js&\"","<template>\n<div>\n<!--       <map-component v-for=\"maps\" :key=\"map.id\" :map_id=\"map.id\"></map-component>\n -->\n<h2>Your maps</h2>\n<p>These are the maps that you've created on the site.</p>\n<div class=\"card bg-dark text-white mb-3\" v-for='map in private_maps' :key=\"map.id\">\n  <map-component :map_id=\"map.uuid\" style=\"height:250px;\"></map-component>\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">{{map.title ? map.title : \"Untitled map\"}}</h5>\n    <p class=\"card-text\">{{map.description}}</p>\n    <p class=\"card-text small\">{{map.incidents_count}} reports · Created <span class='timestamp' :datetime=\"map.created_at\">{{ map.created_at }}</span></p>\n    <a :href=\"/maps/+map.uuid\" class=\"btn btn-primary\">See map</a>\n  </div>\n</div>\n\n<div v-if=\"private_maps.length < 1\">You have no maps yet</div>\n<hr class=\"my-4\">\n<h2 class=\"mt-5\">Public maps</h2>\n<p>These maps are made by the community, and public.</p>\n\n<div class=\"card bg-dark text-white mb-3\" v-for='map in public_maps' :key=\"map.id\">\n  <map-component :map_id=\"map.uuid\" style=\"height:250px;\"></map-component>\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">{{map.title ? map.title : \"Untitled map\"}}</h5>\n    <p class=\"card-text\">{{map.description}}</p>\n    <p class=\"card-text small\">{{map.incidents_count}} reports</p>\n    <a :href=\"/maps/+map.uuid\" class=\"btn btn-primary\">See map</a>\n  </div>\n</div>\n\n</div>\n</template>\n<script>\n    export default {\n        data() {\n            return {\n              zoom:4,\n\n              public_maps: [],\n              private_maps: [],\n              submit_data: {\n                lat: 0,\n                lng: 0,\n                category: 0,\n                category_name: '',\n                loading: false\n              }\n            }\n          },\n          mounted () {\n\n            if(localStorage['map_'+this.map_id]) {\n              this.token = localStorage['map_'+this.map_id]\n            }\n            var ids = []\n            Object.keys(localStorage).forEach(function(key){\n              if(key.includes('map_')) {\n                ids.push(key.replace('map_', ''))\n              }\n            });\n               console.log(ids);\n            axios\n              .get('/api/maps')\n              .then(response => (\n                this.public_maps = response.data\n                ))\n\n            if (ids.length > 0){\n            axios\n              .get('/api/maps', {\n                params: {\n                  ids: ids\n                }\n              })\n              .then(response => (\n                this.private_maps = response.data\n                ))\n            }\n\n          },\n          computed: {\n              canEdit() {\n                  return this.token.length > 0 ? true : false;\n              }\n          },\n\n          watch: {\n              title: function (newQuestion, oldQuestion) {\n                this.title = 'Waiting for you to stop typing...'\n                //this.debouncedGetAnswer()\n              }\n          },\n          created: function () {\n            // _.debounce is a function provided by lodash to limit how\n            // often a particularly expensive operation can be run.\n            // In this case, we want to limit how often we access\n            // yesno.wtf/api, waiting until the user has completely\n            // finished typing before making the ajax request. To learn\n            // more about the _.debounce function (and its cousin\n            // _.throttle), visit: https://lodash.com/docs#debounce\n            //this.debouncedGetAnswer = _.debounce(this.getAnswer, 500)\n          },\n          methods: {\n            handleSelectInput (val) {\n              this.submit_data.fullCategory = val\n              this.submit_data.category = val.id\n              this.submit_data.category_name = val.name\n            },\n            checkForLocalStorageKey (id) {\n              if (localStorage['map_'+id]) {\n                return true\n              }\n              return false\n\n            },\n            submitForm(event) {\n              this.submit_data.loading = true;\n              axios\n                .post('/api/incidents', this.submit_data) // change this to post )\n                .then((res) => {\n\n                    //console.log(res.data);\n                    //this.incidents.push(res.data);\n                    this.$refs.hello_popup.mapObject.closePopup();\n                    this.submit_data.loading = false\n                    localStorage['post_'+res.data.id] = res.data.id\n\n                })\n                .catch((error) => {\n                    this.submit_data.loading = false\n                    console.log(error);\n                    alert(error.message);\n                    //alert('You must be logged in and have permssion to post. Please log in or register.');\n                });            }\n          }\n    }\n</script>\n<style scoped>\n \n</style>","import { render, staticRenderFns } from \"./MyMapsComponent.vue?vue&type=template&id=8eb2fcf2&scoped=true&\"\nimport script from \"./MyMapsComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./MyMapsComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8eb2fcf2\",\n  null\n  \n)\n\nexport default component.exports","\nwindow._ = require('lodash');\n\n/**\n * We'll load jQuery and the Bootstrap jQuery plugin which provides support\n * for JavaScript based Bootstrap features such as modals and tabs. This\n * code may be modified to fit the specific needs of your application.\n */\n\ntry {\n    window.Popper = require('popper.js').default;\n    window.$ = window.jQuery = require('jquery');\n\n    require('bootstrap');\n} catch (e) {}\n\n/**\n * We'll load the axios HTTP library which allows us to easily issue requests\n * to our Laravel back-end. This library automatically handles sending the\n * CSRF token as a header based on the value of the \"XSRF\" token cookie.\n */\n\nwindow.axios = require('axios');\n\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\n/**\n * Next we will register the CSRF Token as a common header with Axios so that\n * all outgoing HTTP requests automatically have it attached. This is just\n * a simple convenience so we don't have to attach every token manually.\n */\n\nlet token = document.head.querySelector('meta[name=\"csrf-token\"]');\n\nif (token) {\n    window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;\n} else {\n    console.error('CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token');\n}\n\n/**\n * Echo exposes an expressive API for subscribing to channels and listening\n * for events that are broadcast by Laravel. Echo and event broadcasting\n * allows your team to easily build robust real-time web applications.\n */\n\nimport Echo from 'laravel-echo'\n\nwindow.Pusher = require('pusher-js');\n\nwindow.Echo = new Echo({\n    broadcaster: 'pusher',\n    key: process.env.MIX_PUSHER_APP_KEY,\n    cluster: 'eu',\n    encrypted: true\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"small\"},[_c('p',[(_vm.title)?_c('a',{attrs:{\"target\":\"_BLANK\",\"href\":_vm.link}},[_vm._v(_vm._s(_vm.title)+\" \")]):_vm._e(),_vm._v(\" \"),(_vm.date)?_c('small',[_vm._v(\" \"+_vm._s(_vm.date)+\"\\n            \"),(_vm.source)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(_vm.source)+\" \")]):_vm._e()]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rss.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rss.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"small\">\n      <p>\n        <a target=\"_BLANK\" v-if=\"title\" :href=\"link\">{{ title }} </a>\n            <small v-if=\"date\"> {{ date }}\n                <span class=\"text-muted\" v-if=\"source\"> {{ source }} </span>\n            </small>\n        </p>\n    </div>\n</template>\n<script>\n    export default {\n        props : ['title', 'date', 'source', 'link']\n    }\n</script>","import { render, staticRenderFns } from \"./Rss.vue?vue&type=template&id=00d3db0e&\"\nimport script from \"./Rss.vue?vue&type=script&lang=js&\"\nexport * from \"./Rss.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card card-default\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"Example Component\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_vm._v(\"\\n                    I'm an example component.\\n                \")])])])])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExampleComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExampleComponent.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"container\">\n        <div class=\"row justify-content-center\">\n            <div class=\"col-md-8\">\n                <div class=\"card card-default\">\n                    <div class=\"card-header\">Example Component</div>\n\n                    <div class=\"card-body\">\n                        I'm an example component.\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        mounted() {\n            console.log('Component mounted.')\n        }\n    }\n</script>\n","import { render, staticRenderFns } from \"./ExampleComponent.vue?vue&type=template&id=3ff7a0fe&\"\nimport script from \"./ExampleComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./ExampleComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.i(require(\"-!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!leaflet.markercluster/dist/MarkerCluster.css\"), \"\");\nexports.i(require(\"-!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!leaflet.markercluster/dist/MarkerCluster.Default.css\"), \"\");\nexports.i(require(\"-!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!vue-multiselect/dist/vue-multiselect.min.css\"), \"\");\n\n// module\nexports.push([module.id, \"\\n.map-notification[data-v-5e1d66f4] {\\n   position: fixed;\\n   bottom: 1rem;\\n   z-index: 1002;\\n   left: 1rem;\\n   right: 1rem;\\n}\\n.your_custom_class[data-v-5e1d66f4] .multiselect__option--highlight, .your_custom_class[data-v-5e1d66f4] .multiselect__option::after {\\n     background: var(--primary);\\n}\\n\", \"\"]);\n\n// exports\n","import mod from \"-!../../../node_modules/style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapComponent.vue?vue&type=style&index=0&id=5e1d66f4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/style-loader/index.js!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapComponent.vue?vue&type=style&index=0&id=5e1d66f4&scoped=true&lang=css&\"","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapComponent.vue?vue&type=style&index=0&id=5e1d66f4&scoped=true&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapComponent.vue?vue&type=style&index=0&id=5e1d66f4&scoped=true&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapComponent.vue?vue&type=style&index=0&id=5e1d66f4&scoped=true&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\n/**\n * First we will load all of this project's JavaScript dependencies which\n * includes Vue and other libraries. It is a great starting point when\n * building robust, powerful web applications using Vue and Laravel.\n */\n\nrequire('./bootstrap');\n\nwindow.timeago = require('timeago.js');\n\nwindow.Vue = require('vue');\n\nimport { Icon }  from 'leaflet'\n\n// this part resolve an issue where the markers would not appear\ndelete Icon.Default.prototype._getIconUrl;\n\nIcon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n/**\n * The following block of code may be used to automatically register your\n * Vue components. It will recursively scan this directory for the Vue\n * components and automatically register them with their \"basename\".\n *\n * Eg. ./components/ExampleComponent.vue -> <example-component></example-component>\n */\n\nconst files = require.context('./', true, /\\.vue$/i)\nfiles.keys().map(key => Vue.component(key.split('/').pop().split('.')[0], files(key).default))\n\n// Vue.component('example-component', require('./components/ExampleComponent.vue').default);\n\n/**\n * Next, we will create a fresh Vue application instance and attach it to\n * the page. Then, you may begin adding components to this application\n * or customize the JavaScript scaffolding to fit your unique needs.\n */\n\nconst app = new Vue({\n    el: '#app'\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('l-map',{ref:\"map\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"zoom\":_vm.zoom,\"center\":_vm.center},on:{\"contextmenu\":_vm.addMarker}},[_c('l-tile-layer',{attrs:{\"url\":_vm.url,\"attribution\":_vm.attribution}}),_vm._v(\" \"),_c('l-locatecontrol'),_vm._v(\" \"),_c('l-layer-group',{ref:\"hello_popup\"},[_c('l-popup',[_c('form',{attrs:{\"method\":\"POST\",\"id\":\"reportForm\",\"action\":\"/incidents\",\"disabled\":!_vm.submit_data.category_name},on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm()}}},[_c('label',{staticClass:\"my-1 mr-2\"},[_vm._v(\"Report incident:\")]),_vm._v(\" \"),_c('multiselect',{staticClass:\"your_custom_class\",staticStyle:{\"width\":\"250px\"},attrs:{\"deselect-label\":\"Can't remove this value\",\"track-by\":\"name\",\"label\":\"name\",\"placeholder\":\"Select one\",\"options\":_vm.categories,\"searchable\":true,\"allow-empty\":false,\"taggable\":true,\"show-labels\":false,\"required\":\"\"},on:{\"input\":_vm.handleSelectInput,\"tag\":_vm.addTag},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(ref){\nvar option = ref.option;\nreturn [_c('strong',[_vm._v(_vm._s(option.name))])]}},{key:\"option\",fn:function( props ){return [_c('img',{staticClass:\"rounded img-thumbnail mr-1\",staticStyle:{\"position\":\"initial\"},attrs:{\"height\":\"25\",\"width\":\"25\",\"src\":props.option.icon,\"alt\":\"\"}}),_vm._v(_vm._s(props.option.name)+\"\\n            \")]}}]),model:{value:(_vm.fullCategory),callback:function ($$v) {_vm.fullCategory=$$v},expression:\"fullCategory\"}}),_vm._v(\" \"),_c('input',{staticClass:\"btn btn-primary btn-sm my-1\",attrs:{\"type\":\"submit\",\"value\":\"Report\",\"disabled\":_vm.submit_data.loading || !_vm.submit_data.category_name}})],1)])],1),_vm._v(\" \"),_c('l-marker-cluster',_vm._l((_vm.activeIncidents),function(incident){return _c('l-marker',{key:incident.id+'marker',attrs:{\"lat-lng\":incident.location.coordinates}},[_c('l-icon',{attrs:{\"icon-url\":incident.category.icon,\"icon-size\":[30, 30],\"icon-anchor\":[15, 15]}}),_vm._v(\" \"),_c('l-popup',{on:{\"ready\":_vm.openPopup}},[_c('b',[_vm._v(_vm._s(incident.category.name)+\" reported in the area.\")]),_c('br'),_vm._v(\"Last report: \"),_c('span',{staticClass:\"timestamp\",attrs:{\"datetime\":incident.updated_at}},[_vm._v(_vm._s(incident.updated_at))]),_vm._v(\".\"),_c('br'),_vm._v(\" \"),(_vm.checkForLocalStorageKey(incident.id))?_c('button',{staticClass:\"btn btn-danger btn-sm my-1\",attrs:{\"disabled\":_vm.submit_data.loading},on:{\"click\":function($event){return _vm.deleteIncident(incident.id)}}},[_vm._v(\"Delete\")]):_vm._e()])],1)}),1)],1),_vm._v(\" \"),(_vm.new_message)?_c('div',{staticClass:\"alert alert-primary map-notification\",attrs:{\"role\":\"alert\"}},[_c('h4',{staticClass:\"alert-heading\"},[_vm._v(\"A new incident was reported\")]),_vm._v(\" \"),_c('p',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm.new_message))])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n      <l-map :zoom=\"zoom\" :center=\"center\" style=\"width: 100%; height: 100%;\" @contextmenu=\"addMarker\" ref=\"map\">\n          <l-tile-layer :url=\"url\" :attribution=\"attribution\"></l-tile-layer>\n          <l-locatecontrol/>\n          <l-layer-group ref=\"hello_popup\">\n          <l-popup>\n            <form method=\"POST\" id=\"reportForm\" action=\"/incidents\" @submit.prevent=\"submitForm()\" :disabled=\"!submit_data.category_name\">\n              <label class=\"my-1 mr-2\">Report incident:</label>\n              <multiselect v-model=\"fullCategory\" @input=\"handleSelectInput\" deselect-label=\"Can't remove this value\" track-by=\"name\" label=\"name\" placeholder=\"Select one\" :options=\"categories\" :searchable=\"true\" :allow-empty=\"false\" :taggable=\"true\"\n              @tag=\"addTag\" style=\"width:250px;\" :show-labels=\"false\" class=\"your_custom_class\" required>\n                <template slot=\"singleLabel\" slot-scope=\"{ option }\"><strong>{{ option.name }}</strong></template>\n                <template slot=\"option\" slot-scope=\" props \"><img class=\"rounded img-thumbnail mr-1\" height=\"25\" width=\"25\" :src=\"props.option.icon\" alt=\"\" style=\"position: initial;\">{{ props.option.name }}\n                </template>\n              </multiselect>\n              <input type=\"submit\" value=\"Report\" class=\"btn btn-primary btn-sm my-1\" :disabled=\"submit_data.loading || !submit_data.category_name\">\n            </form>\n          </l-popup>\n        </l-layer-group>\n\n        <l-marker-cluster>\n          <l-marker v-for=\"incident in activeIncidents\" :lat-lng=\"incident.location.coordinates\" :key=\"incident.id+'marker'\">\n            <l-icon :icon-url=\"incident.category.icon\" :icon-size=\"[30, 30]\" :icon-anchor=\"[15, 15]\"/>\n            <l-popup @ready=\"openPopup\"><b>{{incident.category.name}} reported in the area.</b><br/>Last report: <span class='timestamp' :datetime=\"incident.updated_at\">{{ incident.updated_at }}</span>.<br/>\n            <button class=\"btn btn-danger btn-sm my-1\" v-if=\"checkForLocalStorageKey(incident.id)\" @click=\"deleteIncident(incident.id)\" :disabled=\"submit_data.loading\">Delete</button>\n            </l-popup>\n          </l-marker>\n        </l-marker-cluster>\n    </l-map>\n    <div class=\"alert alert-primary map-notification\" role=\"alert\" v-if=\"new_message\">\n      <h4 class=\"alert-heading\">A new incident was reported</h4>\n      <p class=\"mb-0\">{{new_message}}</p>\n      <!-- <hr>\n      <p class=\"mb-0\">Whenever you need to, be sure to use margin utilities to keep things nice and tidy.</p> -->\n    </div>\n    </div>\n</template>\n<script>\n // URL MAP HASH FUNCTION\n    (function(window){var HAS_HASHCHANGE=(function(){var doc_mode=window.documentMode;return('onhashchange' in window)&&(doc_mode===undefined||doc_mode>7)})();L.Hash=function(map){this.onHashChange=L.Util.bind(this.onHashChange,this);if(map){this.init(map)}};L.Hash.parseHash=function(hash){if(hash.indexOf('#')===0){hash=hash.substr(1)}\n    var args=hash.split(\"/\");if(args.length==3){var zoom=parseInt(args[0],10),lat=parseFloat(args[1]),lon=parseFloat(args[2]);if(isNaN(zoom)||isNaN(lat)||isNaN(lon)){return!1}else{return{center:new L.LatLng(lat,lon),zoom:zoom}}}else{return!1}};L.Hash.formatHash=function(map){var center=map.getCenter(),zoom=map.getZoom(),precision=Math.max(0,Math.ceil(Math.log(zoom)/Math.LN2));return\"#\"+[zoom,center.lat.toFixed(precision),center.lng.toFixed(precision)].join(\"/\")},L.Hash.prototype={map:null,lastHash:null,parseHash:L.Hash.parseHash,formatHash:L.Hash.formatHash,init:function(map){this.map=map;this.lastHash=null;this.onHashChange();if(!this.isListening){this.startListening()}},removeFrom:function(map){if(this.changeTimeout){clearTimeout(this.changeTimeout)}\n    if(this.isListening){this.stopListening()}\n    this.map=null},onMapMove:function(){if(this.movingMap||!this.map._loaded){return!1}\n    var hash=this.formatHash(this.map);if(this.lastHash!=hash){location.replace(hash);this.lastHash=hash}},movingMap:!1,update:function(){var hash=location.hash;if(hash===this.lastHash){return}\n    var parsed=this.parseHash(hash);if(parsed){this.movingMap=!0;this.map.setView(parsed.center,parsed.zoom);this.movingMap=!1}else{this.onMapMove(this.map)}},changeDefer:100,changeTimeout:null,onHashChange:function(){if(!this.changeTimeout){var that=this;this.changeTimeout=setTimeout(function(){that.update();that.changeTimeout=null},this.changeDefer)}},isListening:!1,hashChangeInterval:null,startListening:function(){this.map.on(\"moveend\",this.onMapMove,this);if(HAS_HASHCHANGE){L.DomEvent.addListener(window,\"hashchange\",this.onHashChange)}else{clearInterval(this.hashChangeInterval);this.hashChangeInterval=setInterval(this.onHashChange,50)}\n    this.isListening=!0},stopListening:function(){this.map.off(\"moveend\",this.onMapMove,this);if(HAS_HASHCHANGE){L.DomEvent.removeListener(window,\"hashchange\",this.onHashChange)}else{clearInterval(this.hashChangeInterval)}\n    this.isListening=!1}};L.hash=function(map){return new L.Hash(map)};L.Map.prototype.addHash=function(){this._hash=L.hash(this)};L.Map.prototype.removeHash=function(){this._hash.removeFrom()}})(window);\n\n    import { LMap, LTileLayer, LLayerGroup, LMarker, LPopup, LIcon } from 'vue2-leaflet';\n    import Vue2LeafletLocatecontrol from 'vue2-leaflet-locatecontrol/Vue2LeafletLocatecontrol';\n    import Vue2LeafletMarkerCluster from 'vue2-leaflet-markercluster';\n    import Multiselect from 'vue-multiselect';\n\n    export default {\n      props: ['map_id', 'map_token'],\n        components: { LMap, LTileLayer, LMarker, LPopup, 'l-locatecontrol': Vue2LeafletLocatecontrol, LIcon, 'l-marker-cluster': Vue2LeafletMarkerCluster, LLayerGroup, Multiselect },\n        data() {\n            return {\n              zoom:4,\n              center: L.latLng(43.7040, 7.3111),\n              url:'https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png',\n              attribution:'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n               subdomains: 'abcd',\n                maxZoom: 19,\n                minZoom: 3,\n              incidents: [],\n              categories: [],\n              new_message: '',\n              fullCategory: {},\n              submit_data: {\n                lat: 0,\n                lng: 0,\n                category: 0,\n                category_name: '',\n                loading: false,\n                map_token: this.map_token\n              }\n            }\n          },\n          mounted () {\n\n            new L.Hash(this.$refs.map.mapObject);\n\n            if(this.map_token) {\n              localStorage['map_'+this.map_id] = this.map_token\n            }\n              this.submit_data.map_token = localStorage['map_'+this.map_id]\n\n            axios\n              .get('/api/maps/'+this.map_id+'/incidents')\n              .then(response => (\n                this.incidents = response.data\n                ))\n\n            axios\n              .get('/api/categories')\n              .then(response => (\n                //console.log(response.data.data)\n                this.categories = response.data.data\n                ))\n\n            Echo.channel('maps.'+this.map_id).listen('IncidentCreated', (e) => {\n                        this.incidents.push(e.incident);\n                        this.new_message = \"\"+e.incident.category.name+\"\";\n                        setTimeout(function() {\n                         this.new_message = '';\n                       }.bind(this), 5000);\n              });\n\n          },\n          computed: {\n              incidentsCount() {\n                  return this.incidents.length;\n              },\n              activeIncidents() {\n                  return this.incidents.filter(function (incident) {\n                    return Date() <= Date(Date.parse(incident.expires_at.replace(/-/g, '/')))\n                  })\n              }\n          },\n\n          watch: {\n              incidentsCount(newValue) {\n                  //$emit('incidents-count-change', newValue);\n                  //alert(`yes, computed property changed: ${newValue}`);\n              }\n          },\n          methods: {\n            addMarker(event) {\n                //console.log(event)\n                this.$refs.hello_popup.mapObject.openPopup(event.latlng);\n                this.submit_data.lat = event.latlng.lat;\n                this.submit_data.lng = event.latlng.lng;\n                this.$refs.map.mapObject.flyTo(event.latlng, 18)\n                //console.log(this.submit_data)\n            },\n            openPopup(event) {\n                timeago.render(document.querySelectorAll('.timestamp'))\n            },\n            addTag (newTag) {\n              const tag = {\n                category_id: -1,\n                name: newTag,\n                icon: '/images/vendor/leaflet/dist/marker-icon-2x.png'\n                // code: newTag.substring(0, 2) + Math.floor((Math.random() * 10000000))\n              }\n              this.categories.push(tag)\n              this.fullCategory = tag\n              this.submit_data.category = tag.category_id\n              this.submit_data.category_name = tag.name\n            },\n            handleSelectInput (val) {\n              this.fullCategory = val\n              this.submit_data.category = val.id\n              this.submit_data.category_name = val.name\n            },\n            checkForLocalStorageKey (id) {\n              if (localStorage['post_'+id]) {\n                return true\n              }\n              return false\n\n            },\n            deleteIncident(id) {\n              this.submit_data.loading = true;\n              axios\n              .delete('/api/maps/'+this.map_id+'/incidents/'+id, {data: {token: localStorage['post_'+id]} } )\n              .then((res) => {\n                this.incidents = this.incidents.filter((e)=>e.id !== id )\n                this.submit_data.loading = false;\n              });\n            },\n            submitForm(event) {\n              this.submit_data.loading = true;\n              axios\n                .post('/api/maps/'+this.map_id+'/incidents', this.submit_data) // change this to post )\n                .then((res) => {\n\n                    //console.log(res.data);\n                    //this.incidents.push(res.data);\n                    this.$refs.hello_popup.mapObject.closePopup();\n                    this.submit_data.loading = false\n                    localStorage['post_'+res.data.id] = res.data.token\n\n                })\n                .catch((error) => {\n                    this.submit_data.loading = false\n                    console.log(error.response);\n                    if(error.response.data.errors) {\n                    var message = Object.entries(error.response.data.errors)\n                        .map(([error_name, error_value], i) => `${error_name}: ${error_value[0]} | `)\n                        .join('\\n');\n                      }\n                      else {\n                        var message = error.response.data.message\n                      }\n                    alert(message);\n                    //alert('You must be logged in and have permssion to post. Please log in or register.');\n                });            }\n          }\n    }\n</script>\n<style scoped>\n    @import \"~leaflet.markercluster/dist/MarkerCluster.css\";\n    @import \"~leaflet.markercluster/dist/MarkerCluster.Default.css\";\n   @import '~vue-multiselect/dist/vue-multiselect.min.css';\n    .map-notification {\n      position: fixed;\n      bottom: 1rem;\n      z-index: 1002;\n      left: 1rem;\n      right: 1rem;\n    }\n    .your_custom_class >>> .multiselect__option--highlight, .your_custom_class >>> .multiselect__option::after {\n        background: var(--primary);\n    }\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapComponent.vue?vue&type=template&id=5e1d66f4&scoped=true&\"\nimport script from \"./MapComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./MapComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapComponent.vue?vue&type=style&index=0&id=5e1d66f4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e1d66f4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[((!_vm.map || !_vm.map.title) && _vm.canEdit)?_c('h1',{attrs:{\"contenteditable\":_vm.canEdit},on:{\"input\":function($event){return _vm.handleSelectInput($event, 'title')}}},[_vm._v(\"Here's your new map!\"),(_vm.canEdit)?_c('small',{staticClass:\"text-muted\"},[_vm._v(\" (Click here to edit the title)\")]):_vm._e()]):(_vm.submit_data.title)?_c('h1',{attrs:{\"contenteditable\":_vm.canEdit},on:{\"input\":function($event){return _vm.handleSelectInput($event, 'title')}}},[_vm._v(_vm._s(_vm.map.title))]):_c('h1',[_vm._v(\"Untitled map\")]),_vm._v(\" \"),((!_vm.map || !_vm.map.description) && _vm.canEdit)?_c('p',{attrs:{\"contenteditable\":_vm.canEdit},on:{\"input\":function($event){return _vm.handleSelectInput($event, 'description')}}},[_vm._v(\"Click here to edit the map description.\")]):(_vm.map && _vm.map.description)?_c('p',{attrs:{\"contenteditable\":_vm.canEdit},on:{\"input\":function($event){return _vm.handleSelectInput($event, 'description')}}},[_vm._v(_vm._s(_vm.map.description))]):_c('p',[_vm._v(\"This map has no description.\")]),_vm._v(\" \"),_c('hr',{staticClass:\"my-4\"}),_vm._v(\" \"),(_vm.canEdit)?_c('div',{staticClass:\"card bg-dark text-white\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"Map settings\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-md-12 col-form-label\",attrs:{\"for\":\"password-confirm\"}},[_vm._v(\"Who can see this map\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"form-check\"},[_c('input',{staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"privacy\",\"id\":\"exampleRadios1\",\"value\":\"public\"},domProps:{\"checked\":_vm.submit_data.privacy == 'public' ? true : false},on:{\"input\":function($event){return _vm.handleSelectInput($event, 'privacy')}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"exampleRadios1\"}},[_vm._v(\"\\n                Everyone\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check\"},[_c('input',{staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"privacy\",\"id\":\"exampleRadios2\",\"value\":\"unlisted\"},domProps:{\"checked\":_vm.submit_data.privacy == 'unlisted' ? true : false},on:{\"input\":function($event){return _vm.handleSelectInput($event, 'privacy')}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"exampleRadios2\"}},[_vm._v(\"\\n                Only people with a link\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check disabled\"},[_c('input',{staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"privacy\",\"id\":\"exampleRadios3\",\"value\":\"private\",\"disabled\":\"\"},on:{\"input\":function($event){return _vm.handleSelectInput($event, 'privacy')}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"exampleRadios3\"}},[_vm._v(\"\\n                No one\\n              \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-md-12 col-form-label\",attrs:{\"for\":\"password-confirm\"}},[_vm._v(\"Who can create incidents\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"form-check\"},[_c('input',{staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"users_can_create_incidents\",\"id\":\"exampleRadios4\",\"value\":\"yes\"},domProps:{\"checked\":_vm.submit_data.users_can_create_incidents == 'yes' ? true : false},on:{\"input\":function($event){return _vm.handleSelectInput($event, 'users_can_create_incidents')}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"exampleRadios4\"}},[_vm._v(\"\\n                Everyone\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check\"},[_c('input',{staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"users_can_create_incidents\",\"id\":\"exampleRadios5\",\"value\":\"only_logged_in\"},domProps:{\"checked\":_vm.submit_data.users_can_create_incidents == 'only_logged_in' ? true : false},on:{\"input\":function($event){return _vm.handleSelectInput($event, 'users_can_create_incidents')}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"exampleRadios5\"}},[_vm._v(\"\\n                Only people that are logged in\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check disabled\"},[_c('input',{staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"users_can_create_incidents\",\"id\":\"exampleRadios6\",\"value\":\"no\",\"disabled\":\"\"},on:{\"input\":function($event){return _vm.handleSelectInput($event, 'no')}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"exampleRadios6\"}},[_vm._v(\"\\n                No one\\n              \")])])])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapDetailsComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapDetailsComponent.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n      <h1 v-if=\"(!map || !map.title) && canEdit\" :contenteditable=\"canEdit\" @input=\"handleSelectInput($event, 'title')\">Here's your new map!<small v-if=\"canEdit\" class=\"text-muted\"> (Click here to edit the title)</small></h1>\n      <h1 v-else-if=\"submit_data.title\" :contenteditable=\"canEdit\" @input=\"handleSelectInput($event, 'title')\">{{map.title}}</h1>\n      <h1 v-else>Untitled map</h1>\n\n      <p v-if=\"(!map || !map.description) && canEdit\" :contenteditable=\"canEdit\" @input=\"handleSelectInput($event, 'description')\">Click here to edit the map description.</p>\n      <p v-else-if=\"map && map.description\" :contenteditable=\"canEdit\" @input=\"handleSelectInput($event, 'description')\">{{map.description}}</p>\n      <p v-else>This map has no description.</p>\n      <hr class=\"my-4\">\n      <div class=\"card bg-dark text-white\" v-if=\"canEdit\">\n        <div class=\"card-header\">Map settings</div>\n        <div class=\"card-body\">\n          <div class=\"form-group row\">\n            <label for=\"password-confirm\" class=\"col-md-12 col-form-label\">Who can see this map</label>\n            <div class=\"col-md-12\">\n             <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"radio\" name=\"privacy\" id=\"exampleRadios1\" value=\"public\" :checked=\"submit_data.privacy == 'public' ? true : false\" @input=\"handleSelectInput($event, 'privacy')\">\n              <label class=\"form-check-label\" for=\"exampleRadios1\">\n                Everyone\n              </label>\n            </div>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"radio\" name=\"privacy\" id=\"exampleRadios2\" value=\"unlisted\" @input=\"handleSelectInput($event, 'privacy')\" :checked=\"submit_data.privacy == 'unlisted' ? true : false\">\n              <label class=\"form-check-label\" for=\"exampleRadios2\">\n                Only people with a link\n              </label>\n            </div>\n            <div class=\"form-check disabled\">\n              <input class=\"form-check-input\" type=\"radio\" name=\"privacy\" id=\"exampleRadios3\" value=\"private\" disabled @input=\"handleSelectInput($event, 'privacy')\">\n              <label class=\"form-check-label\" for=\"exampleRadios3\">\n                No one\n              </label>\n            </div>\n            </div>\n          </div>\n          <div class=\"form-group row\">\n            <label for=\"password-confirm\" class=\"col-md-12 col-form-label\">Who can create incidents</label>\n            <div class=\"col-md-12\">\n             <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"radio\" name=\"users_can_create_incidents\" id=\"exampleRadios4\" value=\"yes\" :checked=\"submit_data.users_can_create_incidents == 'yes' ? true : false\" @input=\"handleSelectInput($event, 'users_can_create_incidents')\">\n              <label class=\"form-check-label\" for=\"exampleRadios4\">\n                Everyone\n              </label>\n            </div>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"radio\" name=\"users_can_create_incidents\" id=\"exampleRadios5\" value=\"only_logged_in\" @input=\"handleSelectInput($event, 'users_can_create_incidents')\" :checked=\"submit_data.users_can_create_incidents == 'only_logged_in' ? true : false\">\n              <label class=\"form-check-label\" for=\"exampleRadios5\">\n                Only people that are logged in\n              </label>\n            </div>\n            <div class=\"form-check disabled\">\n              <input class=\"form-check-input\" type=\"radio\" name=\"users_can_create_incidents\" id=\"exampleRadios6\" value=\"no\" disabled @input=\"handleSelectInput($event, 'no')\">\n              <label class=\"form-check-label\" for=\"exampleRadios6\">\n                No one\n              </label>\n            </div>\n            </div>\n          </div>\n        </div>\n      </div>\n</div>\n    </div>\n</template>\n<script>\n    export default {\n      props: ['map_id', 'map_token', 'map'],\n        data() {\n            return {\n              token: this.map_token,\n              submit_data: {\n                title: this.map.title,\n                description: this.map.description,\n                token: this.map_token,\n                privacy: this.map.privacy,\n                users_can_create_incidents: this.map.users_can_create_incidents,\n                loading: false\n              }\n            }\n          },\n          mounted () {\n\n            if(localStorage['map_'+this.map_id]) {\n              this.token = localStorage['map_'+this.map_id]\n              this.submit_data.token = localStorage['map_'+this.map_id]\n            }\n\n          },\n          computed: {\n              canEdit() {\n                  return this.token.length > 0 ? true : false;\n              }\n          },\n\n          watch: {\n              title: function (newQuestion, oldQuestion) {\n                this.submit_data.title = 'Waiting for you to stop typing...'\n                this.debouncedGetAnswer()\n              }\n          },\n          created: function () {\n            // _.debounce is a function provided by lodash to limit how\n            // often a particularly expensive operation can be run.\n            // In this case, we want to limit how often we access\n            // yesno.wtf/api, waiting until the user has completely\n            // finished typing before making the ajax request. To learn\n            // more about the _.debounce function (and its cousin\n            // _.throttle), visit: https://lodash.com/docs#debounce\n            this.debouncedGetAnswer = _.debounce(this.submitForm, 750)\n            //this.foo = _.debounce(function(){}, 1000);\n          },\n          methods: {\n            handleSelectInput (val, type) {\n              if (type == 'privacy' || type == 'users_can_create_incidents') {\n                this.submit_data[type] = val.target.value\n              } else {\n                this.submit_data[type] = val.target.innerText\n              }\n              this.debouncedGetAnswer()\n            },\n            checkForLocalStorageKey (id) {\n              if (localStorage['map_'+id]) {\n                return true\n              }\n              return false\n\n            },\n            submitForm(event) {\n              this.submit_data.loading = true;\n              axios\n                .put('/api/maps/'+this.map_id, this.submit_data) // change this to post )\n                .then((res) => {\n\n                    //console.log(res.data);\n                    //this.incidents.push(res.data);\n                    this.submit_data.loading = false\n                    //alert('saved');\n                })\n                .catch((error) => {\n                    this.submit_data.loading = false\n                    console.log(error);\n                    alert(error.message);\n                    //alert('You must be logged in and have permssion to post. Please log in or register.');\n                });            }\n          }\n    }\n</script>\n<style scoped>\n \n</style>","import { render, staticRenderFns } from \"./MapDetailsComponent.vue?vue&type=template&id=3b102123&scoped=true&\"\nimport script from \"./MapDetailsComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./MapDetailsComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b102123\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}